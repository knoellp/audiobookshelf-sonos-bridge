{{define "content"}}
<div class="items-container">
    <div class="items-header">
        <h1>Serien</h1>
        <p class="subtitle">{{len .Series}} Serien in {{.LibraryName}}</p>
    </div>

    {{if .Series}}
    <div class="items-grid">
        {{range .Series}}
        <a href="/library/series/{{.ID}}?library={{$.SelectedLibraryID}}" class="series-card">
            <div class="series-cover">
                {{if .CoverURLs}}
                <div class="composite-cover books-{{len .CoverURLs}}">
                    {{range .CoverURLs}}
                    <img src="{{.}}" alt="" loading="lazy">
                    {{end}}
                </div>
                {{else}}
                <div class="item-cover-fallback">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                </div>
                {{end}}
            </div>
            <div class="series-info">
                <h3 class="series-title">{{.Name}}</h3>
                <span class="series-count">{{.BookCount}} {{if eq .BookCount 1}}Buch{{else}}BÃ¼cher{{end}}</span>
            </div>
        </a>
        {{end}}
    </div>
    {{else}}
    <div class="empty-state">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
        </svg>
        <h3>Keine Serien gefunden</h3>
        <p>In dieser Bibliothek gibt es keine Serien.</p>
    </div>
    {{end}}
</div>

<style>
.series-card {
    display: block;
}

.series-cover {
    position: relative;
    aspect-ratio: 1;
    border-radius: var(--radius);
    overflow: hidden;
    background: var(--bg-elevated);
}

.series-cover .item-cover-fallback {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
}

/* Composite cover - shows up to 4 book covers in a grid */
.composite-cover {
    display: grid;
    width: 100%;
    height: 100%;
    gap: 2px;
    background: var(--bg);
}

.composite-cover.books-1 {
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
}

.composite-cover.books-2 {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr;
}

.composite-cover.books-3 {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
}

.composite-cover.books-3 img:nth-child(3) {
    grid-column: 1 / -1;
}

.composite-cover.books-4 {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
}

.composite-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    text-align: center;
    color: var(--text-secondary);
}

.empty-state svg {
    margin-bottom: 1.5rem;
    opacity: 0.5;
}

.empty-state h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    color: var(--text);
}
</style>
{{end}}
